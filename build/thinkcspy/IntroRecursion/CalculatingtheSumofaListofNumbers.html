<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>13.2. Calculating the Sum of a List of Numbers &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13.3. The Three Laws of Recursion" href="TheThreeLawsofRecursion.html" />
    <link rel="prev" title="13.1. What Is Recursion?" href="WhatIsRecursion.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'thinkcspy';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "4.0.1";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = true;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'thinkcspy';
  eBookConfig.runestone_version = '3.0.5';
</script>
<style>
.navLink{
	display: block;
  position: static;
  font-size: 3rem;
}

@media (max-width: 600px) {
    /* Styling definitions for chevron function in bookfuncs.js */
	.navLink{
		display: block;
	}
}

#relations-next {
  float: right;
}

#relations-prev {
  float: left;
}

.navLink a {
	color: #999;
}
</style>

  </head>
  <body>



<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="calculating-the-sum-of-a-list-of-numbers">
<h1>13.2. Calculating the Sum of a List of Numbers<a class="headerlink" href="#calculating-the-sum-of-a-list-of-numbers" title="Permalink to this headline">Â¶</a></h1>
<p>We will begin our investigation with a simple problem that you already
know how to solve without using recursion. Suppose that you want to
calculate the sum of a list of numbers such as:
<span class="math">\([1, 3, 5, 7, 9]\)</span>. An iterative function that computes the sum
is shown below. The function uses an accumulator variable
(<code class="docutils literal"><span class="pre">theSum</span></code>) to compute a running total of all the numbers in the list
by starting with <span class="math">\(0\)</span> and adding each number in the list.</p>

<div data-childcomponent="lst_itsum" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=lst_itsum data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     data-caption='Iterative Summation'>
def listsum(numList):
    theSum = 0
    for i in numList:
        theSum = theSum + i
    return theSum

print(listsum([1,3,5,7,9]))
</textarea>
</div>
<p>Pretend for a minute that you do not have <code class="docutils literal"><span class="pre">while</span></code> loops or <code class="docutils literal"><span class="pre">for</span></code>
loops. How would you compute the sum of a list of numbers? If you were a
mathematician you might start by recalling that addition is a function
that is defined for two parameters, a pair of numbers. To redefine the
problem from adding a list to adding pairs of numbers, we could rewrite
the list as a fully parenthesized expression. Such an expression looks
like this:</p>
<div class="math">
\[((((1 + 3) + 5) + 7) + 9)\]</div>
<p>We can also parenthesize
the expression the other way around,</p>
<div class="math">
\[(1 + (3 + (5 + (7 + 9))))\]</div>
<p>Notice that the innermost set of
parentheses, <span class="math">\((7 + 9)\)</span>, is a problem that we can solve without a
loop or any special constructs. In fact, we can use the following
sequence of simplifications to compute a final sum.</p>
<div class="math">
\[\begin{split}total = \  (1 + (3 + (5 + (7 + 9)))) \\
total = \  (1 + (3 + (5 + 16))) \\
total = \  (1 + (3 + 21)) \\
total = \  (1 + 24) \\
total = \  25\end{split}\]</div>
<p>How can we take this idea and turn it into a Python program? First,
letâs restate the sum problem in terms of Python lists. We might say the
the sum of the list <code class="docutils literal"><span class="pre">numList</span></code> is the sum of the first element of the
list (<code class="docutils literal"><span class="pre">numList[0]</span></code>), and the sum of the numbers in the rest of the
list (<code class="docutils literal"><span class="pre">numList[1:]</span></code>). To state it in a functional form:</p>
<div class="math">
\[  listSum(numList) = first(numList) + listSum(rest(numList))
\label{eqn:listsum}\]</div>
<p>In this equation <span class="math">\(first(numList)\)</span> returns the first element of
the list and <span class="math">\(rest(numList)\)</span> returns a list of everything but
the first element. This is easily expressed in Python.</p>

<div data-childcomponent="lst_recsum" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=lst_recsum data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     data-caption='Recursive Summation'>
def listsum(numList):
   if len(numList) == 1:
        return numList[0]
   else:
        return numList[0] + listsum(numList[1:])

print(listsum([1,3,5,7,9]))
</textarea>
</div>
<p>There are a few key ideas in this listing to look at. First, on line 2 we are checking to see if the list is one element long. This
check is crucial and is our escape clause from the function. The sum of
a list of length 1 is trivial; it is just the number in the list.
Second, on line 5 our function calls itself! This is the
reason that we call the <code class="docutils literal"><span class="pre">listsum</span></code> algorithm recursive. A recursive
function is a function that calls itself.</p>
<p><a class="reference internal" href="#fig-recsumin"><span class="std std-ref">Figure 1</span></a> shows the series of <strong>recursive calls</strong> that are
needed to sum the list <span class="math">\([1, 3, 5, 7, 9]\)</span>. You should think of
this series of calls as a series of simplifications. Each time we make a
recursive call we are solving a smaller problem, until we reach the
point where the problem cannot get any smaller.</p>
<div class="figure align-center" id="id1">
<span id="fig-recsumin"></span><img alt="image" src="../_images/sumlistIn.png" />
<p class="caption"><span class="caption-text">Figure 1: Series of Recursive Calls Adding a List of Numbers</span></p>
</div>
<p>When we reach the point where the problem is as simple as it can get, we
begin to piece together the solutions of each of the small problems
until the initial problem is solved. <a class="reference internal" href="#fig-recsumout"><span class="std std-ref">Figure 2</span></a> shows the
additions that are performed as <code class="docutils literal"><span class="pre">listsum</span></code> works its way backward
through the series of calls. When <code class="docutils literal"><span class="pre">listsum</span></code> returns from the topmost
problem, we have the solution to the whole problem.</p>
<div class="figure align-center" id="id2">
<span id="fig-recsumout"></span><img alt="image" src="../_images/sumlistOut.png" />
<p class="caption"><span class="caption-text">Figure2: Series of Recursive Returns from Adding a List of Numbers</span></p>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 13.1. What Is Recursion?' data-toggle="tooltip">
    <a href="WhatIsRecursion.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>

  <li id="relations-next" class="navLink" title='Next Section - 13.3. The Three Laws of Recursion' data-toggle="tooltip" >
    <a href="TheThreeLawsofRecursion.html" style="color:#999">
      Next Section - 13.3. The Three Laws of Recursion
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <li class="navLink" style="text-align: center" title='13. Recursion' data-toggle="tooltip" >
    <a href="../CMPS5P/l13.html">
      <i id="relationsNextIcon"  class='nextNav glyphicon glyphicon-chevron-up'></i>
    </a>
  </li>


<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<p style="line-height: 2em">&nbsp;</p>

  </body>
</html>